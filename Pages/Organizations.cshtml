@page
@model EagleConnect.Pages.OrganizationsModel
@{
    ViewData["Title"] = "Student Organizations";
}

<div class="container">
    <div class="row mb-4">
        <div class="col-12">
            <h1 class="display-5 fw-bold text-primary">Student Organizations</h1>
            <p class="lead">Discover and join student organizations that match your interests, career goals, and academic pursuits.</p>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-md-4">
            <div class="card bg-primary text-white">
                <div class="card-body text-center">
                    <h3>@Model.Organizations.Count</h3>
                    <p class="mb-0">Organizations</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card bg-success text-white">
                <div class="card-body text-center">
                    <h3>@Model.Organizations.SelectMany(o => o.Members.Where(m => m.IsActive).Select(m => m.UserId)).Distinct().Count()</h3>
                    <p class="mb-0">Active Members</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card bg-info text-white">
                <div class="card-body text-center">
                    <h3>@Model.Organizations.Select(o => o.Category).Distinct().Count()</h3>
                    <p class="mb-0">Categories</p>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        @foreach (var org in Model.Organizations)
        {
            <div class="col-lg-6 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">@org.Name</h5>
                        <p class="card-text">
                            <span class="badge bg-primary">@org.Category</span>
                            <span class="badge bg-secondary">@org.Members.Count(m => m.IsActive) members</span>
                        </p>
                        <p class="card-text">@org.Description</p>
                        
                        <div class="row mb-2">
                            <div class="col-6">
                                <small><strong>Meeting Time:</strong> @org.MeetingSchedule</small>
                            </div>
                            <div class="col-6">
                                <small><strong>Location:</strong> @org.Location</small>
                            </div>
                        </div>
                        
                        <div class="mb-2">
                            <small><strong>Contact:</strong> <a href="mailto:@org.ContactEmail">@org.ContactEmail</a></small>
                        </div>
                        
                        @if (!string.IsNullOrEmpty(org.Website))
                        {
                            <div class="mb-2">
                                <small><strong>Website:</strong> <a href="@org.Website" target="_blank">@org.Website</a></small>
                            </div>
                        }
                        
                        <div class="mb-2">
                            <small><strong>Founded:</strong> @org.CreatedDate.ToString("MMM yyyy")</small>
                        </div>
                        
                        <button class="btn btn-primary btn-sm" disabled>Join Organization (Demo)</button>
                        <span class="badge bg-success ms-2">Active</span>
                    </div>
                </div>
            </div>
        }
    </div>

    <div class="row mt-5 mb-5">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Benefits of Joining Organizations</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3">
                            <h6><i class="fas fa-users text-primary"></i> Networking</h6>
                            <p class="small">Build relationships with peers who share your interests and career goals.</p>
                        </div>
                        <div class="col-md-3">
                            <h6><i class="fas fa-trophy text-success"></i> Leadership</h6>
                            <p class="small">Develop leadership skills through officer positions and event planning.</p>
                        </div>
                        <div class="col-md-3">
                            <h6><i class="fas fa-graduation-cap text-info"></i> Academic Support</h6>
                            <p class="small">Get academic support and study resources from organization members.</p>
                        </div>
                        <div class="col-md-3">
                            <h6><i class="fas fa-briefcase text-warning"></i> Career Development</h6>
                            <p class="small">Access career opportunities, internships, and professional development.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
